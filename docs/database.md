### 数据库
1. [Mysql](/docs/database.md#Mysql)  
   [Redis](/docs/database.md#Redis)  
   [ES](/docs/database.md#ES)  

###### Mysql
1. 存储引擎  
   InnoDB特点：  
      1.支持事务；2.支持外键约束；3.支持表、行级锁，行锁是实现在索引上的。命中索引则使用行锁，未命中索引则使用表锁；4.不保存表的具体行数。  
      5.聚集索引，使用B+树作为索引结构，数据文件和索引是绑在一起的。节点包含主键id索引列，叶子节点包含索引列和数据。  
   MyISAM特点：  
      1.不支持事务；2.不支持外键；3.支持全文索引，查询速度快；4.保存表的具体行数。  
      5.非聚集索引，使用B+树作为索引结构，索引和数据文件是分离的，索引保存的是数据文件的指针。索引的叶子节点是数据文件的地址指针。  
2. 锁：隐式-根据隔离级别自动加锁；显式：通过sql语句。    
   共享锁：S lock，读锁，这时候只能读不能写，读取完成锁释放。读锁实现：select * from t_user where id = 3 lock in share mode;  
   排他锁：X lock，写锁，会阻塞其他的写锁和读锁。从颗粒度来分为表锁、行锁。  
         1.表锁：会锁定整张表并阻塞对该表的所有读写，比如alter修改表结构时。  
         2.行锁：分为乐观锁、悲观锁。  
         2.a.乐观锁假设不会冲突，只在提交时校验。实现：先读出当前version，再修改：update t_user set nums=10,version=version+1 where id=3 and version=0;    
         2.b.悲观锁：每次拿数据的时候都对数据上锁，整个事务提交释放锁。悲观锁实现：select * from t_user where id = 3 for update;  
   死锁：悲观锁会引起。A事务持有X1锁，申请X2锁，B事务持有X2锁，申请X1锁，造成循环等待。  
   死锁避免：a.合理设计索引，通过索引定位更少的行，减少锁竞争；b.大事务拆分小事务；c.不同的事务以固定顺序访问表和行；d.复杂sql拆分。  
3. 隔离级别  

###### Redis

###### ES
